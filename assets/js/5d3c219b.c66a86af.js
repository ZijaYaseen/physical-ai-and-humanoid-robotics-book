"use strict";(globalThis.webpackChunkphysical_ai_and_humanoid_robotics=globalThis.webpackChunkphysical_ai_and_humanoid_robotics||[]).push([[76],{5533(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"rag/README","title":"RAG Chatbot Integration","description":"This document describes the RAG (Retrieval-Augmented Generation) chatbot integration for the Physical AI & Humanoid Robotics course book.","source":"@site/docs/rag/README.md","sourceDirName":"rag","slug":"/rag/","permalink":"/physical-ai-and-humanoid-robotics-book/docs/rag/","draft":false,"unlisted":false,"editUrl":"https://github.com/ZijaYaseen/physical-ai-and-humanoid-robotics-book/tree/main/docs/rag/README.md","tags":[],"version":"current","frontMatter":{}}');var s=i(4848),r=i(8453);const o={},l="RAG Chatbot Integration",a={},d=[{value:"Overview",id:"overview",level:2},{value:"Features",id:"features",level:2},{value:"Setup",id:"setup",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Installation",id:"installation",level:3},{value:"Usage",id:"usage",level:2},{value:"Ingest Documentation",id:"ingest-documentation",level:3},{value:"Start the Server",id:"start-the-server",level:3},{value:"API Endpoints",id:"api-endpoints",level:3},{value:"Frontend Integration",id:"frontend-integration",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Environment Variables",id:"environment-variables",level:3},{value:"Chunking Strategy",id:"chunking-strategy",level:3},{value:"Architecture",id:"architecture",level:2},{value:"Testing",id:"testing",level:2},{value:"Deployment",id:"deployment",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"rag-chatbot-integration",children:"RAG Chatbot Integration"})}),"\n",(0,s.jsx)(n.p,{children:"This document describes the RAG (Retrieval-Augmented Generation) chatbot integration for the Physical AI & Humanoid Robotics course book."}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"The RAG chatbot allows readers to ask questions about the book content and receive answers derived from the documentation. The system uses Google Gemini AI via an OpenAI-compatible endpoint, Qdrant Cloud for vector storage, and Neon Postgres for session management."}),"\n",(0,s.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Question Answering"}),": Ask questions about book content and receive relevant answers"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Selected Text Mode"}),": Ask questions specifically about selected text on the page"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Source Citations"}),": Answers include links to the source documentation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Session Management"}),": Maintain conversation context across page navigation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Strict/Augment Modes"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'Strict mode: Answer only from selected text or return "I don\'t know based on the selected text."'}),"\n",(0,s.jsx)(n.li,{children:"Augment mode: Use full document corpus for answers"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,s.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Python 3.9+"}),"\n",(0,s.jsx)(n.li,{children:"Node.js 18+ (for Docusaurus)"}),"\n",(0,s.jsx)(n.li,{children:"Qdrant Cloud account (Free tier)"}),"\n",(0,s.jsx)(n.li,{children:"Neon Postgres account"}),"\n",(0,s.jsx)(n.li,{children:"Google Gemini API key"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"installation",children:"Installation"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Install Python dependencies:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pip install -r requirements.txt\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"Copy and configure environment variables:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cp .env.example .env\n# Edit .env with your API keys and configuration\n"})}),"\n",(0,s.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(n.h3,{id:"ingest-documentation",children:"Ingest Documentation"}),"\n",(0,s.jsx)(n.p,{children:"Before using the chatbot, you need to ingest the documentation:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"python backend/ingest_docs.py\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This processes all MD/MDX files from the ",(0,s.jsx)(n.code,{children:"docs/"})," directory, chunks them into <=1500 character segments with 200-character overlap, generates embeddings, and stores them in Qdrant."]}),"\n",(0,s.jsx)(n.h3,{id:"start-the-server",children:"Start the Server"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"uvicorn backend.server:app --reload\n"})}),"\n",(0,s.jsx)(n.h3,{id:"api-endpoints",children:"API Endpoints"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"POST /query"}),": Process queries with optional selected text in strict/augment modes"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"POST /chatkit/session"}),": Manage conversation sessions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"GET /health"}),": Health check endpoint"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"frontend-integration",children:"Frontend Integration"}),"\n",(0,s.jsxs)(n.p,{children:["The chatbot widget is integrated into the Docusaurus site as a React component at ",(0,s.jsx)(n.code,{children:"src/components/rag/BookRAGWidget.tsx"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.code,{children:".env.example"})," for required environment variables:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"GEMINI_KEY"}),": Your Google Gemini API key"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OPENAI_BASE_URL"}),": OpenAI-compatible endpoint URL for Gemini"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"QDRANT_URL"}),": Qdrant Cloud instance URL"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"QDRANT_API_KEY"}),": Qdrant authentication key"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"NEON_DATABASE_URL"}),": Neon Postgres connection string"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"EMBEDDING_MODEL"}),": Embedding model (default: text-embedding-3-small)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"CHAT_MODEL"}),": Chat model (default: gpt-4o-mini via Gemini)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TOP_K"}),": Number of chunks to retrieve (default: 5)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"DEFAULT_MODE"}),": Default query mode (default: augment)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ENV_REUSABLE_INTEL"}),": Enable reusable intelligence (default: false)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"chunking-strategy",children:"Chunking Strategy"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Maximum chunk size: 1500 characters"}),"\n",(0,s.jsx)(n.li,{children:"Overlap: 200 characters"}),"\n",(0,s.jsx)(n.li,{children:"Preserves paragraph boundaries when possible"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[Docs Content] \u2192 [Ingest Script] \u2192 [Qdrant Cloud] \u2192 [FastAPI Backend] \u2192 [ChatKit UI Widget]\n     \u2193               \u2193                 \u2193                 \u2193                   \u2193\n Markdown/MDX    Vector indexing    Vector storage   RAG processing    Theme-integrated\n files           with embeddings    with metadata    with Gemini       frontend widget\n"})}),"\n",(0,s.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,s.jsx)(n.p,{children:"Run the test suite:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pytest backend/tests/\n"})}),"\n",(0,s.jsx)(n.h2,{id:"deployment",children:"Deployment"}),"\n",(0,s.jsx)(n.p,{children:"The system is designed for serverless deployment on platforms like Vercel or Netlify Functions, though it can also run on traditional VMs or containers."}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If ingestion fails, check that your Qdrant configuration is correct"}),"\n",(0,s.jsx)(n.li,{children:"If queries return no results, verify that documents were properly ingested"}),"\n",(0,s.jsx)(n.li,{children:"For API errors, check that your Gemini API key and endpoint are configured correctly"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453(e,n,i){i.d(n,{R:()=>o,x:()=>l});var t=i(6540);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);